<Window x:Class="RyCookieText.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="RyCookie Text - Snippet Manager"
        Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Snippet Manager" 
                       FontSize="24" 
                       FontWeight="Bold"
                       Foreground="{StaticResource TextPrimaryBrush}"/>
            <TextBlock Text="Manage your text expansion snippets" 
                       FontSize="14"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       Margin="0,4,0,0"/>
        </StackPanel>

        <!-- Toolbar -->
        <Grid Grid.Row="1" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Search Box -->
            <TextBox x:Name="SearchBox"
                     Grid.Column="0"
                     Style="{StaticResource ModernTextBox}"
                     TextChanged="SearchBox_TextChanged"
                     Width="300"
                     HorizontalAlignment="Left"
                     VerticalAlignment="Center">
                <TextBox.Resources>
                    <Style TargetType="TextBox" BasedOn="{StaticResource ModernTextBox}">
                        <Style.Triggers>
                            <Trigger Property="Text" Value="">
                                <Setter Property="Background">
                                    <Setter.Value>
                                        <VisualBrush Stretch="None" AlignmentX="Left">
                                            <VisualBrush.Visual>
                                                <TextBlock Text="Search snippets..." 
                                                          Foreground="{StaticResource TextSecondaryBrush}"
                                                          Margin="8,0,0,0"/>
                                            </VisualBrush.Visual>
                                        </VisualBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </TextBox.Resources>
            </TextBox>

            <!-- Action Buttons -->
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="ImportButton"
                        Content="ðŸ“¥ Import CSV"
                        Style="{StaticResource ModernButton}"
                        Click="ImportButton_Click"
                        Margin="0,0,8,0"/>
                <Button x:Name="ExportButton"
                        Content="ðŸ“¤ Export CSV"
                        Style="{StaticResource ModernButton}"
                        Click="ExportButton_Click"
                        Margin="0,0,8,0"/>
                <Button x:Name="ThemeToggleButton"
                        Content="ðŸŒ™ Dark"
                        Style="{StaticResource ModernButton}"
                        Click="ThemeToggleButton_Click"
                        Margin="0,0,16,0"/>
                <Button x:Name="AddButton"
                        Content="âž• Add Snippet"
                        Style="{StaticResource ModernButton}"
                        Click="AddButton_Click"
                        Margin="0,0,8,0"/>
                <Button x:Name="EditButton"
                        Content="âœï¸ Edit"
                        Style="{StaticResource ModernButton}"
                        Click="EditButton_Click"
                        Margin="0,0,8,0"
                        IsEnabled="False"/>
                <Button x:Name="DeleteButton"
                        Content="ðŸ—‘ï¸ Delete"
                        Style="{StaticResource ModernButton}"
                        Click="DeleteButton_Click"
                        Background="#F44336"
                        IsEnabled="False"/>
            </StackPanel>
        </Grid>

        <!-- Snippets DataGrid -->
        <Border Grid.Row="2" 
                BorderBrush="{StaticResource BorderBrush}" 
                BorderThickness="1"
                CornerRadius="4"
                Background="{StaticResource SurfaceBrush}">
            <DataGrid x:Name="SnippetsGrid"
                      SelectionChanged="SnippetsGrid_SelectionChanged"
                      MouseDoubleClick="SnippetsGrid_MouseDoubleClick">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Keyword" 
                                       Binding="{Binding Keyword}" 
                                       Width="150"
                                       FontWeight="SemiBold"/>
                    <DataGridTextColumn Header="Content" 
                                       Binding="{Binding Content}" 
                                       Width="*"/>
                    <DataGridTextColumn Header="Type" 
                                       Binding="{Binding Type}" 
                                       Width="80"/>
                    <DataGridTextColumn Header="Group" 
                                       Binding="{Binding Group}" 
                                       Width="120"/>
                    <DataGridCheckBoxColumn Header="Enabled" 
                                           Binding="{Binding IsEnabled}" 
                                           Width="80"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="3" 
                Margin="0,16,0,0"
                Padding="12,8"
                Background="{StaticResource SurfaceBrush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="4">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="StatusText" 
                          Grid.Column="0"
                          Text="Ready"
                          Foreground="{StaticResource TextSecondaryBrush}"
                          VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <TextBlock Text="Text Expansion:" 
                              Foreground="{StaticResource TextSecondaryBrush}"
                              VerticalAlignment="Center"
                              Margin="0,0,8,0"/>
                    <CheckBox x:Name="ExpansionToggle"
                             Content="Enabled"
                             IsChecked="True"
                             Checked="ExpansionToggle_Changed"
                             Unchecked="ExpansionToggle_Changed"
                             VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
